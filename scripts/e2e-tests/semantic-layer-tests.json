{
  "version": "2.0.0",
  "description": "Intensive E2E test suite for Odoo semantic layer - Focus on sales, purchases, CRM, stock, invoicing, payments, partners with double-grouping and conversation chains",
  "tenantId": "de7ef34a-12bd-4fe9-9d02-3d876a9393c2",
  "suites": [
    {
      "id": "sales-basic",
      "name": "Ventas - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "sales-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuánto vendimos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "sales-002",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Quiénes son los vendedores que más vendieron este año?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "sales-003",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuál fue el total de ventas en 2025?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "sales-004",
          "messages": [{ "role": "user", "content": "Dame el top 5 de clientes por volumen de ventas" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "sales-005",
          "messages": [{ "role": "user", "content": "¿Cuánto vendimos el mes pasado?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        }
      ]
    },
    {
      "id": "sales-double-group",
      "name": "Ventas - Double Grouping",
      "category": "odoo",
      "tests": [
        {
          "id": "sales-dg-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "Mostrame las ventas por vendedor y por mes de este año" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true, "maxLatencyMs": 25000 }
        },
        {
          "id": "sales-dg-002",
          "messages": [{ "role": "user", "content": "¿Qué productos compra cada uno de nuestros top 5 clientes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "maxLatencyMs": 25000 }
        },
        {
          "id": "sales-dg-003",
          "messages": [{ "role": "user", "content": "Ventas por categoría de producto y por trimestre de 2025" }],
          "expectations": { "shouldRouteToAgent": "odoo", "maxLatencyMs": 25000 }
        }
      ]
    },
    {
      "id": "sales-conversation",
      "name": "Ventas - Cadenas Conversacionales",
      "category": "conversation",
      "tests": [
        {
          "id": "sales-conv-001",
          "critical": true,
          "messages": [
            { "role": "user", "content": "¿Cuánto vendimos este mes?" },
            { "role": "assistant", "content": "Este mes las ventas totales fueron $45.230.000 en 127 órdenes confirmadas." },
            { "role": "user", "content": "¿Quién fue el vendedor que más vendió?" },
            { "role": "assistant", "content": "El vendedor con más ventas este mes fue Martín Travella con $12.500.000 en 34 órdenes." },
            { "role": "user", "content": "¿Qué productos vendió él?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true, "shouldNotContain": ["¿a qué te referís?", "¿quién es Martín?"] }
        },
        {
          "id": "sales-conv-002",
          "critical": true,
          "messages": [
            { "role": "user", "content": "¿Cuánto vendimos en 2025?" },
            { "role": "assistant", "content": "En 2025 las ventas totales fueron $523.000.000 en 1.450 órdenes confirmadas." },
            { "role": "user", "content": "¿Y por vendedor?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true }
        },
        {
          "id": "sales-conv-003",
          "messages": [
            { "role": "user", "content": "¿Cuántas ventas hicimos en diciembre?" },
            { "role": "assistant", "content": "En diciembre se realizaron 89 ventas por un total de $38.500.000." },
            { "role": "user", "content": "pero esos son confirmados o incluye borradores?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true }
        },
        {
          "id": "sales-conv-004",
          "critical": true,
          "messages": [
            { "role": "user", "content": "Dame el total de ventas por vendedor este año" },
            { "role": "assistant", "content": "Las ventas por vendedor en 2025:\n1. Martín Travella: $85.000.000\n2. Denise Grivarello: $72.000.000\n3. Sergio Pérez: $45.000.000" },
            { "role": "user", "content": "el segundo?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true, "shouldContain": ["Denise"] }
        }
      ]
    },
    {
      "id": "purchases-basic",
      "name": "Compras - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "purchases-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuánto compramos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "purchases-002",
          "messages": [{ "role": "user", "content": "¿Cuáles son nuestros 5 proveedores principales por volumen de compra?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "purchases-003",
          "messages": [{ "role": "user", "content": "¿Cuántas órdenes de compra tenemos pendientes de recibir?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "purchases-004",
          "messages": [{ "role": "user", "content": "Mostrame las compras por proveedor y por mes de este año" }],
          "expectations": { "shouldRouteToAgent": "odoo", "maxLatencyMs": 25000 }
        }
      ]
    },
    {
      "id": "purchases-conversation",
      "name": "Compras - Cadenas Conversacionales",
      "category": "conversation",
      "tests": [
        {
          "id": "purchases-conv-001",
          "critical": true,
          "messages": [
            { "role": "user", "content": "¿Cuánto le compramos a Dental Total este año?" },
            { "role": "assistant", "content": "A Dental Total se le compraron $15.800.000 en 2025." },
            { "role": "user", "content": "¿Qué productos?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true }
        }
      ]
    },
    {
      "id": "crm-basic",
      "name": "CRM - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "crm-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuál es el valor total del pipeline de oportunidades?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "crm-002",
          "messages": [{ "role": "user", "content": "¿Cuántas oportunidades hay en cada etapa del pipeline?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "crm-003",
          "messages": [{ "role": "user", "content": "¿Qué vendedor cerró más oportunidades este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "crm-004",
          "messages": [{ "role": "user", "content": "¿Cuántos leads nuevos entraron este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "crm-005",
          "messages": [{ "role": "user", "content": "¿Cuántas oportunidades perdimos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "invoicing-basic",
      "name": "Facturación - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "inv-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuánto facturamos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "inv-002",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuánto tenemos por cobrar en facturas pendientes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "inv-003",
          "messages": [{ "role": "user", "content": "Dame el aging de cuentas por cobrar (facturas vencidas por antigüedad)" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "inv-004",
          "messages": [{ "role": "user", "content": "¿Cuántas notas de crédito emitimos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "inv-005",
          "messages": [{ "role": "user", "content": "¿Qué facturas tiene pendientes el cliente Odontología Avanzada?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "invoicing-conversation",
      "name": "Facturación - Cadenas Conversacionales",
      "category": "conversation",
      "tests": [
        {
          "id": "inv-conv-001",
          "critical": true,
          "messages": [
            { "role": "user", "content": "¿Cuánto tenemos por cobrar?" },
            { "role": "assistant", "content": "El total por cobrar en facturas pendientes es de $28.500.000 distribuido en 45 facturas." },
            { "role": "user", "content": "¿Quién es el que más debe?" },
            { "role": "assistant", "content": "El cliente con mayor deuda es Clínica del Sol con $5.200.000 pendientes." },
            { "role": "user", "content": "¿Hace cuánto que debe?" }
          ],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldUseContext": true }
        }
      ]
    },
    {
      "id": "payments-basic",
      "name": "Pagos/Cobros - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "pay-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuánto cobramos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "pay-002",
          "messages": [{ "role": "user", "content": "¿Cuánto cobramos esta semana?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "pay-003",
          "messages": [{ "role": "user", "content": "Desglosame los cobros de este mes por método de pago" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "pay-004",
          "messages": [{ "role": "user", "content": "¿Cuánto pagamos a proveedores este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "stock-basic",
      "name": "Stock/Inventario - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "stock-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuál es el valor total del inventario actual?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "stock-002",
          "messages": [{ "role": "user", "content": "¿Cuánto stock tenemos de resinas 3M?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "stock-003",
          "messages": [{ "role": "user", "content": "¿Cuántas entregas pendientes tenemos para hoy?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "stock-004",
          "messages": [{ "role": "user", "content": "¿Qué productos están sin stock?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "stock-005",
          "messages": [{ "role": "user", "content": "¿Cuántas recepciones de mercadería tenemos pendientes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "stock-conversation",
      "name": "Stock - Cadenas Conversacionales",
      "category": "conversation",
      "tests": [
        {
          "id": "stock-conv-001",
          "critical": true,
          "messages": [
            { "role": "user", "content": "¿Cuánto stock tenemos de resinas 3M?" },
            { "role": "assistant", "content": "Actualmente hay 45 unidades de resinas 3M en stock." },
            { "role": "user", "content": "¿Cuántas vendimos el mes pasado?" },
            { "role": "assistant", "content": "El mes pasado se vendieron 22 unidades de resinas 3M." },
            { "role": "user", "content": "¿Para cuántos días nos alcanza entonces?" }
          ],
          "expectations": { "shouldUseContext": true }
        }
      ]
    },
    {
      "id": "partners-basic",
      "name": "Clientes/Proveedores - Consultas Básicas",
      "category": "odoo",
      "tests": [
        {
          "id": "partners-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cuántos clientes nuevos conseguimos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "partners-002",
          "messages": [{ "role": "user", "content": "¿Cómo se distribuyen nuestros clientes por provincia?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "partners-003",
          "messages": [{ "role": "user", "content": "¿Qué clientes no compraron en los últimos 90 días?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "partners-004",
          "messages": [{ "role": "user", "content": "Dame los datos de contacto del cliente Clínica del Sol" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "comparisons",
      "name": "Comparaciones Temporales",
      "category": "odoo",
      "tests": [
        {
          "id": "comp-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cómo se comparan las ventas de este mes vs el mes anterior?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "comp-002",
          "messages": [{ "role": "user", "content": "¿Cómo fueron las ventas de diciembre 2025 vs diciembre 2024?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "comp-003",
          "messages": [{ "role": "user", "content": "¿Cómo evolucionaron las ventas por trimestre en 2025?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "edge-cases",
      "name": "Edge Cases y Errores",
      "category": "edge",
      "tests": [
        {
          "id": "edge-001",
          "messages": [{ "role": "user", "content": "Dame el reporte de actividades de marketing" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveError": false }
        },
        {
          "id": "edge-002",
          "messages": [{ "role": "user", "content": "¿Cuánto hay?" }],
          "expectations": { "shouldNotContain": ["error"] }
        },
        {
          "id": "edge-003",
          "messages": [{ "role": "user", "content": "Dame todas las ventas desde 2020" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveError": false }
        },
        {
          "id": "edge-004",
          "messages": [{ "role": "user", "content": "Agrupame las ventas por seller_id" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveError": false }
        }
      ]
    },
    {
      "id": "complex-analysis",
      "name": "Análisis Complejos",
      "category": "odoo",
      "tests": [
        {
          "id": "complex-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Qué porcentaje de clientes representa el 80% de las ventas?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "complex-002",
          "messages": [{ "role": "user", "content": "¿Cuál es el ticket promedio de venta por vendedor?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "complex-003",
          "messages": [{ "role": "user", "content": "¿Cuál es el margen bruto de este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    },
    {
      "id": "cross-module",
      "name": "Consultas Cross-Module",
      "category": "cross",
      "tests": [
        {
          "id": "cross-001",
          "critical": true,
          "messages": [{ "role": "user", "content": "¿Cómo se comparan las ventas vs las compras de este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo", "shouldHaveData": true }
        },
        {
          "id": "cross-002",
          "messages": [{ "role": "user", "content": "¿Cuánto vendimos vs cuánto facturamos este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        },
        {
          "id": "cross-003",
          "messages": [{ "role": "user", "content": "¿Cuánto entró vs cuánto salió de caja este mes?" }],
          "expectations": { "shouldRouteToAgent": "odoo" }
        }
      ]
    }
  ]
}
